# Руководство по развертыванию сервиса

## Системные требования

Для развертывания сервиса необходимы следующие компоненты:

- **Ansible** - полная версия (не `ansible-core`) для поддержки модуля `community.docker`
- **QEMU** - для виртуализации

## Настройка аутентификации

Выберите один из вариантов настройки SSH-ключей:

### Вариант 1: Использование приватного ключа
Добавьте приложенный приватный SSH-ключ в соответствующую папку .ssh.

### Вариант 2: Настройка публичного ключа
1. Добавьте свой публичный SSH-ключ в файл `user-data.yml`
2. Пересоздайте образ диска командой:
   ```shell
   cloud-localds cloud-init.iso user-data.yml
   ```
3. Замените файл `cloud-init.iso` в директории `/tmp/vm-deploy` на созданный

## Запуск развертывания

### Стандартный запуск
```shell
ansible-playbook -i inventory.ini deployment.yaml
```

### Запуск в Docker-контейнере
```shell
ansible-playbook -i inventory.ini deployment.yaml -e "deployment_method=docker"
```

## Дополнительная информация

Все необходимые файлы конфигурации и скрипты доступны в репозитории:
**https://github.com/marksista/kasper/**
